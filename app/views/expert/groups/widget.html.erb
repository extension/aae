<h1><%= link_to @group.name, expert_group_path() %></h1>
<p id="aaeid">Group #<%= @group.id %></p>

<h2>Settings > Ask Form and Widget</h2>

<%= render :partial => 'expert/groups/settings_navigation' %>

<div class="explanation">
  <h3>Groups have two ways to accept questions:</h3>
  <ul>
    <li>Via the <%= link_to "Group Ask form", ask_group_url(@group.id) %></li>
    <li>Via an embedded Ask widget on your own web pages (code snippet is below.)</li>
  </ul>
  <h5>The link to this Group's Ask form is: <%= link_to ask_group_url(@group.id), ask_group_url(@group.id) %></h5>
</div>

<%= form_for @group, :url => expert_group_widget_path, :html => {:class => "form-stacked no_m_t well"} do |f| %>

  <div class="form_subgroup">

    <fieldset>
      <h3>Ask Form and Widget Options</h3>
		<p>
        <label>
          <%= f.check_box :widget_active %>  Active
			    <span>(If this option is unchecked, the Group's widget and Ask form are disabled. The widget code should be removed from any web page.)</span>
        </label>
		</p>

		<p>
        <label>
          <%= f.check_box 'widget_public_option' %>  Enable "public display" option
			    <span>(Allows submitter to choose to make their question is public. If this option is unchecked, all questions submitted will be private.)</span>
        </label>
    </p>

	<p>
        <label>
          <%= f.check_box 'widget_upload_capable' %>  Enable photo upload option
        </label>
    </p>

	<p>
        <label>
          <%= f.check_box 'widget_show_location', @group.assignment_outside_locations == false ? {disabled: true} : {disabled: false} %>  Enable location option for widgets
          <% if @group.assignment_outside_locations == false %>
            <span>This option is locked because the "Questions must come from this group's locations" <%= link_to 'assignment preference', expert_group_assignment_options_path %> is selected.</span>
          <% end %>
        </label>
	</p>

<p>
      <label>
        <%= f.check_box 'ask_form_show_location' -%>  Enable location option for the <%= link_to "Ask form", ask_group_url(@group.id) -%>
      </label>
</p>

	<p>
      <label>
        <%= f.check_box 'widget_show_title' %>  Display title field on first generation widgets
		    <span>(This preference only applies to the first generation widget, which is being phased out. The title field is always displayed on the <%= link_to "Ask form", ask_group_url(@group.id) %> and the current generation widget.)</span>
      </label>
	</p>

    </fieldset>


  </div>

  <fieldset>
    <p><%= submit_tag "Save Changes", :class => "btn btn-primary btn-large" %></p>
  </fieldset>

  <h4>Widget iFrame Code</h4>
  <p>Embed an Ask widget on your own web page using the following code snippet:</p>
  <div id="widgetcode"><textarea class="form-control"><%= h('<iframe width="80%" style="border:0;" src="' + group_widget_url(@group.widget_fingerprint) + '" height="400px"></iframe>') %></textarea></div>


  <h4>NEW — Widget Code (JS)</h4>
  <p>The code snippet below is for a more advanced version of the Ask widget which offers better design, multiple image uploads, dynamic resizing and captures the URL of widget's parent page. Add the following code on your page where you want the widget to appear:</p>
  <div id="widgetcode2"><textarea><%= render partial: 'expert/groups/widget_code' %></textarea></div>

</div>

<%- end -%>
